<!DOCTYPE html>
<html>
  <body>
    <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
	<div id="player"></div>
    <!-- elizabeth's video URL: "https://www.youtube.com/watch?v=MznN1a8yTUw"></iframe> -->
    <div id="quiz">
    	<form id="quiz_form" action=""> 
    		<input type="radio" id="q1" name="quiz_question" value="incorrect"> When the pedal is pressed down, the piano sounds louder than when the pedal is not pressed down <br>
    		<input type="radio" id="q2" name="quiz_question" value="correct"> When the pedal is pressed down, when you play a note, it keeps sounding even after you release the key <br>
    		<input type="radio" id="q3" name="quiz_question" value="incorrect"> When the pedal is pressed down, the piano sounds more similar to a string instrument, like a cello <br>
    		<input id="submit_button" type="button" value="submit"></input>
    	</form>
    </div>
    <div id="correct-answer">Correct!</div>
    <div id="incorrect-answer">Not quite right, here's a hint.</div>
	<style type="text/css">
		#player {left:10; top:10; z-index:-10; position: absolute;}
		#quiz {display: none; position: absolute; left:0; top:0; z-index:100; background-color: #82c0ed; width: 640px; height: 390px}
		#correct-answer {display: none; position: absolute; left:0; top:0; z-index:100; background-color: #73ce5f; width: 640px; height: 390px}
		#incorrect-answer {display: none; position: absolute; left:0; top:0; z-index:100; background-color: #ce5c5c; width: 640px; height: 390px}
	</style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <script>
      // 2. This code loads the IFrame Player API code asynchronously.
      var timeout = 311000

      var tag = document.createElement('script');
      //document.getElementById('quiz'),syle['display']="none";

      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      // 3. This function creates an <iframe> (and YouTube player)
      //    after the API code downloads.
      var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
          height: '390',
          width: '640',
          //top: 0,
          //left: 0,
          //x: 0,
          //y: 0,
          //position: 'absolute'
          videoId: 'MznN1a8yTUw',
          playerVars: {'autoplay': 0, 'wmode': 'transparent', 'fs': 0, 'controls':1, 'rel':0, 'modestbranding':1, 'showinfo':0},
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
          }
        });
      }

      // 4. The API will call this function when the video player is ready.
      function onPlayerReady(event) {
        event.target.playVideo();
      }

      // 5. The API calls this function when the player's state changes.
      //    The function indicates that when playing a video (state=1),
      //    the player should play for six seconds and then stop.
      var done = false;
      function onPlayerStateChange(event) {
        if (event.data == YT.PlayerState.PLAYING && !done) {
          setTimeout(stopVideo, 15000);
          done = true;
          
        }
      }
      function stopVideo() {
        player.stopVideo();
        document.getElementById('quiz').style['display']="block";
      }
      function pauseVideo() {
        player.pauseVideo();
      }
      document.getElementById('player').style['z-index']=-10;
      document.getElementById('player').style['-webkit-transform']='translateZ(0)';
    </script>
    <script type="text/javascript">
    	$(document).ready(function() {
    		//when they submit their quiz answer
    		$("#submit_button").click(function() {
    			var is_checked = $("#q2").prop("checked")
    			//if they got the answer correct
    			if (is_checked==true) {
    				//hide the quiz
    				$("#quiz").hide();
    				//show the correct answer message
    				$("#correct-answer").show();
    				//after 3 seconds skip to the next part of the video
    				setTimeout(function(){
    					$("#correct-answer").hide();
    					player.seekTo(325, true);
    					console.log("you got it correct")
    				}, 3000);
    				//display a "you got it correct" message	
    			}
    			//if they got the answer incorrect
    			else {
    				//hide the quiz
    				$("#quiz").hide();
    				//show the incorrect answer message
    				$("#incorrect-answer").show();
    				//after 3 seconds skip to the next part of the video
    				setTimeout(function(){
    					$("#incorrect-answer").hide();
    					player.seekTo(314, true);
    					console.log("you got it incorrect")
    				}, 3000);
    			}
    		})
    	})
    </script>
  </body>
</html>
